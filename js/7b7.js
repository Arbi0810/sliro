var Profitshare={setup:function(e,t,i,a,o,n,s){this.psName="psid",this.name=e,this.days=t,this.domain=i,this.ajax=a,this.ajaxUrl=o,this.duplicateValues=n,this.duplicateValuesAjax=s},setCookie:function(e){var t=new Date;t.setTime(t.getTime()+864e5*this.days);var i=this.name+"="+escape(e)+"; expires="+t.toGMTString()+"; path=/; domain="+this.domain;document.cookie=i},getCookie:function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()},callAjax:function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(this.readyState==XMLHttpRequest.DONE&&200==this.status){var e=JSON.parse(this.responseText);e.hasOwnProperty("click_code")&&Profitshare.setCookie(e.click_code)}},t.open("POST",this.ajaxUrl,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send("id="+e+"&referer="+encodeURI(document.referrer))},callAjaxDuplicate:function(e,t){var i=this.getCookie(this.name),a=new XMLHttpRequest;a.open("POST",this.duplicateValuesAjax,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send("t="+e+"&x="+t+"&c="+i+"&u="+encodeURIComponent(window.location)+"&r="+encodeURI(document.referrer))},updateUrl:function(e,t,i){var a=window.location.origin+window.location.pathname;i.length&&(a+="?"+i.join("&")),window.history.replaceState({},document.title,a)},start:function(){var e=window.location.search.substring(1);if(0==e.length||top.location.href!=window.location.href)return!1;for(var t=e.split("&"),i=null,a=0;a<t.length;a++){var o=t[a].split("="),n=o[0].toLowerCase(),s=o[1];if(n==this.name)return this.setCookie(s);n==this.psName&&this.ajax&&(this.callAjax(s),i=a),this.duplicateValues.forEach(e=>{e.name.toLowerCase()==n.toLowerCase()&&e.value.toLowerCase()==s.toLowerCase()&&this.callAjaxDuplicate(n,s)})}null!==i&&(t.splice(i,1),this.updateUrl(n,s,t))}};

Profitshare.setup(
    'click_code', 30,
    '.elegance-decor.ro', 1,
    '//t.profitshare.ro/t/ajax/',
    [{"name":"utm_source","value":"2parale"},{"name":"utm_source","value":"2Performant"},{"name":"utm_campaign","value":"2Performant"},{"name":"utm_campaign","value":"2parale"}], '//t.profitshare.ro/t/ajax/duplicate'
);

Profitshare.start();